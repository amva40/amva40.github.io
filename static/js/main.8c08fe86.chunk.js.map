{"version":3,"sources":["assets/images/area40_color.svg","components/Logo.js","components/Loader.js","states.js","components/Header.js","components/Countdown.js","components/Footer.js","assets/models/layer_dem_amva.glb","layers/LayerDEM.js","layers/LayerAMVAArcs.js","assets/models/capsule/capsule_render.glb","layers/LayerCapsule.js","assets/models/capsule/plant.glb","layers/LayerPlants.js","assets/images/icon-atlas.png","layers/LayerMarker.js","pages/Map.js","assets/videos/capsula.webm","pages/Streaming.js","App.js","reportWebVitals.js","index.js"],"names":["Logo","scale","width","height","className","style","src","Area40Color","alt","Loader","isActive","React","useState","isShowing","setShowing","from","opacity","to","onRest","props","INITIAL_STATE","longitude","latitude","zoom","bearing","pitch","transitionDuration","AMVA_STATE_180deg","FlyToInterpolator","view_state","transitionInterpolator","layers","map_style","AMVA_STATE_270deg","CAPSULE_STATE","Header","setViewState","setLayers","setMapStyle","onClick","inStreaming","boxAnimation","useSpring","top","left","div","states","Countdown","timeCalled","setTimeCalled","years","days","hours","minutes","seconds","time","setTime","marginBottom","marginRight","setTimeout","setTimeCall","difference","Date","calculateTimeLeft","texts","amva","capsule","video","Footer","view","videoPlayed","setVideoPlayed","videoActive","setVideoActive","registerLoaders","GLTFLoader","LayerDEM","ScenegraphLayer","id","data","coordinates","scenegraph","terraingltf","getPosition","d","getOrientation","getColor","_animations","speed","sizeScale","_lighting","flat","LayerAMVAArcs","ArcLayer","pickable","getWidth","getSourcePosition","getTargetPosition","getSourceColor","getTargetColor","LayerCapsule","locations","features","map","e","geometry","LayerPlants","plant","Math","random","LayerMarker","IconLayer","iconAtlas","IconMarker","iconMapping","marker","x","y","mask","getIcon","Map","setLoading","onCapsuleClick","currentView","setCurrentView","viewState","mapStyle","mapLoaded","setMapLoaded","initialViewState","layerFilter","layer","layer_id","toLowerCase","startsWith","controller","getTooltip","object","reuseMaps","preventStyleDiffing","onLoad","type","Streaming","onBackClick","StreamingTest","autoPlay","loop","App","isLoading","currentPage","setCurrentPage","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8c08fe86.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/area40_color.b6cc96fc.svg\";","import React from 'react';\nimport Area40Color from '../assets/images/area40_color.svg';\n\nexport default function Logo({ scale }) {\n    let [width, height] = [83.149606299, 56.692913386];\n\n    if (typeof scale === 'number' && scale > 1) {\n        width *= scale;\n        height *= scale;\n    }\n\n    return (\n        <div className=\"logo\" style={{ width, height }}>\n            <img\n                width=\"100%\" height=\"100%\"\n                src={Area40Color}\n                alt=\"40 años del Área Metropolitana del Valle de Aburrá Logo\"\n            />\n        </div>\n    );\n}\n","import React from 'react';\nimport { Spring } from 'react-spring/renderprops';\nimport Logo from './Logo';\nimport './Loader.scss';\n\nexport default function Loader({ isActive }) {\n    const [isShowing, setShowing] = React.useState(true);\n\n    if (!isShowing) {\n        return null;\n    }\n\n    return (\n        <Spring\n            from={{ opacity: isActive ? 0 : 1 }}\n            to={{ opacity: isActive ? 1 : 0 }}\n            onRest={() => setShowing(false)}\n        >\n            {props => (\n                <div style={props} className=\"loader\">\n                    <Logo scale={3} />\n                    <h2>Área Metropolitana del Valle de Aburrá</h2>\n                    <span>¡40 años conectados de punto a punto!</span>\n                </div>\n            )}\n        </Spring>\n    );\n}\n","import { FlyToInterpolator } from '@deck.gl/core';\n\nexport const INITIAL_STATE = {\n    view_state: {\n        longitude: -75.552464,\n        latitude: 6.326047,\n        zoom: 10.5,\n        bearing: -60,\n        pitch: 60,\n    },\n    layers: ['layer_dem', 'layer_amva_arcs', 'layer_marker'],\n    map_style: 'https://basemaps.cartocdn.com/gl/positron-gl-style/style.json'\n};\n\nconst transitionDuration = 2500;\n\nexport const AMVA_STATE = {\n    view_state: {\n        longitude: -75.552464,\n        latitude: 6.326047,\n        zoom: 10.5,\n        bearing: -60,\n        pitch: 60,\n        transitionDuration,\n        transitionInterpolator: new FlyToInterpolator(),\n    },\n    layers: ['layer_dem', 'layer_amva_arcs', 'layer_marker'],\n    map_style: 'https://basemaps.cartocdn.com/gl/positron-gl-style/style.json',\n};\n\nexport const AMVA_STATE_180deg = {\n    view_state: {\n        longitude: -75.552464,\n        latitude: 6.326047,\n        zoom: 10.5,\n        bearing: 180,\n        pitch: 40,\n        transitionDuration,\n        transitionInterpolator: new FlyToInterpolator(),\n    },\n    layers: ['layer_dem', 'layer_amva_arcs', 'layer_marker'],\n    map_style: 'https://basemaps.cartocdn.com/gl/positron-gl-style/style.json',\n};\n\nexport const AMVA_STATE_270deg = {\n    view_state: {\n        longitude: -75.494464,\n        latitude: 6.33047,\n        zoom: 10.4,\n        bearing: 270,\n        pitch: 40,\n        transitionDuration,\n        transitionInterpolator: new FlyToInterpolator(),\n    },\n    layers: ['layer_dem', 'layer_amva_arcs', 'layer_marker'],\n    map_style: 'https://basemaps.cartocdn.com/gl/positron-gl-style/style.json',\n};\n\n\nexport const CAPSULE_STATE = {\n    view_state: {\n        longitude: -75.5796,\n        latitude: 6.2440,\n        zoom: 20,\n        bearing: 20,\n        pitch: 60,\n        transitionDuration: 6000,\n        transitionInterpolator: new FlyToInterpolator(),\n    },\n    layers: ['layer_capsule', 'layer_amva_arcs','layer_plants'],\n    map_style: 'https://basemaps.cartocdn.com/gl/positron-nolabels-gl-style/style.json',\n};\n","import React from 'react';\nimport { useSpring, animated } from 'react-spring';\nimport Logo from './Logo';\nimport * as states from '../states';\nimport './Header.scss';\n\nexport default function Header({\n    setViewState,\n    setLayers,\n    setMapStyle,\n    onClick,\n    inStreaming,\n}) {\n    const boxAnimation = useSpring({\n        top: '1rem',\n        left: '1rem',\n        from: {\n            top: '-14rem',\n            left: '-14rem',\n        },\n    });\n\n    return (\n        <animated.div className=\"header\" style={boxAnimation}>\n            <div className=\"top\">\n                <Logo scale={2} />\n            </div>\n            <div className=\"actions\">\n                <button\n                    onClick={() => {\n                        setViewState(states.AMVA_STATE_180deg.view_state);\n                        setLayers(states.AMVA_STATE_180deg.layers);\n                        setMapStyle(states.AMVA_STATE_180deg.map_style);\n                        setViewState(states.AMVA_STATE_180deg.view_state);\n                        onClick('amva');\n                    }}\n                >Área</button>\n                {(!inStreaming) && (<button\n                    onClick={() => {\n                        setViewState(states.CAPSULE_STATE.view_state);\n                        setLayers(states.CAPSULE_STATE.layers);\n                        setMapStyle(states.CAPSULE_STATE.map_style);\n                        onClick('capsule');\n                    }}\n                >Cápsula</button>)}\n            </div>\n        </animated.div>\n    );\n}\n","import React from 'react';\nimport { useSpring, animated } from 'react-spring';\nimport './Countdown.scss';\n\nfunction calculateTimeLeft() {\n    const difference = new Date(`2030-10-1`) - new Date();\n\n    if (difference > 0) {\n        return {\n            years: ~~(difference / (1000 * 60 * 60 * 24 * 365)),\n            days: ~~((difference / (1000 * 60 * 60 * 24)) % 365),\n            hours: ~~((difference / (1000 * 60 * 60)) % 24),\n            minutes: ~~((difference / 1000 / 60) % 60),\n            seconds: ~~((difference / 1000) % 60),\n        };\n    }\n\n    return { years: 0, days: 0, hours: 0, minutes: 0, seconds: 0 };\n}\n\nexport default function Countdown() {\n    const [timeCalled, setTimeCalled] = React.useState(false);\n    const [time, setTime] = React.useState({ years: 0, days: 0, hours: 0, minutes: 0, seconds: 0 });\n\n    const boxAnimation = useSpring({\n        marginBottom: '0px',\n        marginRight: '0px',\n        from: {\n            marginBottom: '-14rem',\n            marginRight: '-14rem',\n        }\n    });\n\n    if (!timeCalled) {\n        function setTimeCall() {\n            setTimeCalled(true);\n            setTime(calculateTimeLeft());\n            setTimeout(setTimeCall, 1000);\n        }\n\n        setTimeout(setTimeCall, 1000);\n    }\n\n    return (\n        <animated.div className=\"countdown\" style={boxAnimation}>\n            en el 2030 acabaremos con nuestros recursos hídricos si no los gestionamos de manera adecuada:\n            {' ' + time.years} año{time.years === 1 ? '' : 's'},\n            {' ' + time.days} día{time.days === 1 ? '' : 's'},\n            {' ' + time.hours} hora{time.hours === 1 ? '' : 's'},\n            {' ' + time.minutes} minuto{time.minutes === 1 ? '' : 's'} y\n            {' ' + time.seconds} segundo{time.seconds === 1 ? '' : 's'}\n        </animated.div>\n    );\n}\n","import React from 'react';\nimport Countdown from './Countdown';\nimport './Footer.scss';\n\nconst texts = {\n    amva: 'Con una línea que nos trazamos, acercamos territorios, culturas, diversidades, puntos de vista, sueños y personas. Cada punto es un foco de gestión que se une a través de la tecnología, la movilidad, el desarrollo y la conservación ambiental para articular un Futuro Sostenible que no se detiene y crea calidad de vida.',\n    capsule: 'Las urnas del tiempo clásicas querían mostrar a generaciones futuras cómo era la vida años atrás; la Cápsula \"Observatorio de lo invisible\" viene del pasado y el futuro para decirnos que la llave del acertijo la tenemos hoy en nuestras manos.',\n    video: `“Tendemos a ignorar las cosas que son invisibles, ¿estás de acuerdo? \n    ¿Invisibles? \n    El clima es invisible y, sin embargo, nos afecta.” \n    “Pero la mejor manera de entender el silencio consiste en aceptar que no  \n    existe, sino que es una medida a partir de la cual valoramos el sonido.” \n    Opus zero, Daniel G`\n};\n\nexport default function Footer({ view }) {\n    const [videoPlayed, setVideoPlayed] = React.useState(false);\n    const [videoActive, setVideoActive] = React.useState(false);\n\n    if (view === 'capsule') {\n        if (!videoActive && !videoPlayed) {\n            setVideoActive(true);\n            setVideoPlayed(true);\n        }\n    } else if (videoActive) {\n        setVideoActive(false);\n        setVideoPlayed(false);\n    }\n\n    return (\n        <div className=\"footer\">\n            <div className=\"text\">{texts[view]}</div>\n            <Countdown />\n        </div>\n    );\n}\n","export default __webpack_public_path__ + \"static/media/layer_dem_amva.7d269251.glb\";","import { ScenegraphLayer } from '@deck.gl/mesh-layers';\nimport { registerLoaders } from '@loaders.gl/core';\nimport { GLTFLoader } from '@loaders.gl/gltf';\nimport terraingltf from '../assets/models/layer_dem_amva.glb';\n\nregisterLoaders(GLTFLoader);\n\nconst LayerDEM = new ScenegraphLayer({\n    id: 'layer_dem',\n    data: [\n        { coordinates: [-75.6104, 6.337] }\n    ],\n    scenegraph: terraingltf,\n    getPosition: d => d.coordinates,\n    getOrientation: d => [0, 0, 90],\n    getColor: d => [0, 0, 0, 175],\n    _animations: {\n        '*': { speed: 5 }\n    },\n    sizeScale: 1,\n    _lighting: 'pbr',\n});\n\nexport default LayerDEM;\n","import {ArcLayer} from '@deck.gl/layers';\n\nconst data = [\n    [\n        { from: [-75.65, 6.1376], to: [-75.6074, 6.1353] },\n        { from: [-75.6255, 6.0689], to: [-75.65, 6.1376] }\n    ],\n    [\n        { from: [-75.6074, 6.1353], to: [-75.5647, 6.1456] },\n        { from: [-75.6255, 6.0689], to: [-75.6074, 6.1353] }\n    ],\n    [\n        { from: [-75.65, 6.1376], to: [-75.6153, 6.1772] },\n        { from: [-75.6074, 6.1353], to: [-75.65, 6.1376] }\n    ],\n    [\n        { from: [-75.6153, 6.1772], to: [-75.5647, 6.1456] },\n        { from: [-75.6074, 6.1353], to: [-75.6153, 6.1772] }\n    ],\n    [\n        { from: [-75.579658, 6.244070], to: [-75.5647, 6.1456] },\n        { from: [-75.6153, 6.1772], to: [-75.579658, 6.244070] }\n    ],\n    [\n        { from: [-75.4986, 6.3473], to: [-75.5647, 6.1456] },\n        { from: [-75.579658, 6.244070], to: [-75.4986, 6.3473] }\n    ],\n    [\n        { from: [-75.5673, 6.3504], to: [-75.4986, 6.3473] },\n        { from: [-75.579658, 6.244070], to: [-75.5673, 6.3504] }\n    ],\n    [\n        { from: [-75.65, 6.1376], to: [-75.579658, 6.244070] },\n        { from: [-75.6153, 6.1772], to: [-75.65, 6.1376] }\n    ],\n    [\n        { from: [-75.4441, 6.3837], to: [-75.5647, 6.1456] },\n        { from: [-75.4986, 6.3473], to: [-75.4441, 6.3837] }\n    ],\n    [\n        { from: [-75.3303, 6.4439], to: [-75.5647, 6.1456] },\n        { from: [-75.4441, 6.3837], to: [-75.3303, 6.4439] }\n    ],\n    [\n        { from: [-75.5673, 6.3504], to: [-75.4441, 6.3837] },\n        { from: [-75.4986, 6.3473], to: [-75.5673, 6.3504] }\n    ],\n    [\n        { from: [-75.5673, 6.3504], to: [-75.3303, 6.4439] },\n        { from: [-75.4441, 6.3837], to: [-75.5673, 6.3504] }\n    ],\n    [\n        { from: [-75.65, 6.1376], to: [-75.5673, 6.3504] },\n        { from: [-75.579658, 6.244070], to: [-75.65, 6.1376] }\n    ]\n].flat(1);\n\nconst LayerAMVAArcs = new ArcLayer({\n    id: 'layer_amva_arcs',\n    data,\n    pickable: true,\n    getWidth: 2,\n    getSourcePosition: d => d.from,\n    getTargetPosition: d => d.to,\n    getSourceColor: d => [0, 105, 150],\n    getTargetColor: d => [0, 105, 150],\n});\n\nexport default LayerAMVAArcs;\n","export default __webpack_public_path__ + \"static/media/capsule_render.4e8bed22.glb\";","import { ScenegraphLayer } from '@deck.gl/mesh-layers';\nimport { registerLoaders } from '@loaders.gl/core';\nimport { GLTFLoader } from '@loaders.gl/gltf';\nimport capsule from '../assets/models/capsule/capsule_render.glb';\n\nregisterLoaders(GLTFLoader);\n\nconst LayerCapsule = new ScenegraphLayer({\n    id: 'layer_capsule',\n    data: [\n        {\n            id: 'layer_capsule',\n            coordinates: [-75.579658, 6.244070]\n        }\n    ],\n    pickable: true,\n    scenegraph: capsule,\n    getPosition: d => d.coordinates,\n    getOrientation: d => [0, 107.5, 90],\n    _animations: {\n        '*': { speed: 5 }\n    },\n    sizeScale: 7,\n    _lighting: 'pbr',\n});\n\nexport default LayerCapsule;\n","export default __webpack_public_path__ + \"static/media/plant.34e3fdc2.glb\";","import { ScenegraphLayer } from '@deck.gl/mesh-layers';\nimport { registerLoaders } from '@loaders.gl/core';\nimport { GLTFLoader } from '@loaders.gl/gltf';\nimport plant from '../assets/models/capsule/plant.glb';\nimport locations from '../assets/models/layer_plants.json';\n\nregisterLoaders(GLTFLoader);\n\nconst data =  locations && locations.features.map((e) => ({ coordinates: e.geometry.coordinates, }));\n\nconst LayerPlants = new ScenegraphLayer({\n    id: 'layer_plants',\n    data,\n    scenegraph: plant,\n    getPosition: d => d.coordinates,\n    getOrientation: d => [0, Math.random() * 180, 90],\n    _animations: {\n        '*': { speed: 5 }\n    },\n    sizeScale: 7,\n    _lighting: 'pbr',\n});\n\nexport default LayerPlants;\n","export default __webpack_public_path__ + \"static/media/icon-atlas.a5c1dc54.png\";","import { IconLayer } from '@deck.gl/layers';\nimport IconMarker from '../assets/images/icon-atlas.png';\n\nconst ICON_MAPPING = {\n    marker: {\n        x: 0,\n        y: 0, \n        width: 128,\n        height: 128,\n        mask: false,\n    },\n};\n\nconst data = [\n    {\n        id: 'layer_marker',\n        coordinates: [-75.579658, 6.244070]\n    },\n];\n\nconst LayerMarker = new IconLayer({\n    id: 'layer_marker',\n    data,\n    pickable: true,\n    iconAtlas: IconMarker,\n    iconMapping:ICON_MAPPING,\n    sizeScale: 100,\n    getPosition: d => d.coordinates,\n    getIcon: d => 'marker',\n});\n\nexport default LayerMarker;\n","import React from 'react';\nimport { INITIAL_STATE, AMVA_STATE_270deg, CAPSULE_STATE } from '../states';\nimport DeckGL from '@deck.gl/react';\nimport ReactMapGL from 'react-map-gl';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\n\n// A.M.V.A. Layers\nimport LayerDEM from '../layers/LayerDEM';\nimport LayerAMVAArcs from '../layers/LayerAMVAArcs';\n\n// Capsule Layers\nimport LayerCapsule from '../layers/LayerCapsule';\nimport LayerPlants from '../layers/LayerPlants';\n\n// Marker Layer\nimport LayerMarker from '../layers/LayerMarker';\n\nexport default function Map({\n    inStreaming,\n    setLoading,\n    onCapsuleClick,\n}) {\n    const [currentView, setCurrentView] = React.useState('amva');\n    const [viewState, setViewState] = React.useState(INITIAL_STATE.view_state);\n    const [layers, setLayers] = React.useState(INITIAL_STATE.layers);\n    const [mapStyle, setMapStyle] = React.useState(INITIAL_STATE.map_style);\n    const [mapLoaded, setMapLoaded] = React.useState(false);\n\n    return (\n        <>\n            <div style={{ opacity: (mapLoaded && !inStreaming) ? 1 : 0 }}>\n                <DeckGL \n                    initialViewState={viewState}\n                    layers={[\n                        LayerAMVAArcs,\n                        LayerDEM,\n                        LayerCapsule,\n                        LayerMarker,\n                        LayerPlants\n                    ]}\n                    layerFilter={({ layer }) => {\n                        if (!inStreaming) {\n                            for (const layer_id of layers) {\n                                if (layer.id.toLowerCase().startsWith(layer_id)) {\n                                    return true;\n                                }\n                            }\n                        }\n\n                        return false;\n                    }}\n                    controller={true}\n                    getTooltip={({ object }) => {\n                        if (object && !inStreaming) {\n                            if (object.id === 'layer_marker') {\n                                return '¡Haz click aquí para ver la cápsula de cerca!';\n                            } else if (object.id === 'layer_capsule') {\n                                return '¡Haz click aquí para ver lo que ocurre dentro de la cápsula!';\n                            }\n                        }\n                    }}\n                    onClick={({ layer }) => {\n                        if (layer && !inStreaming) {\n                            if (layer.id === 'layer_marker') {\n                                setCurrentView('capsule');\n                                setViewState(CAPSULE_STATE.view_state);\n                                setLayers(CAPSULE_STATE.layers);\n                                setMapStyle(CAPSULE_STATE.map_style);\n                            } else if (layer.id === 'layer_capsule') {\n                                setCurrentView('amva');\n                                setViewState(AMVA_STATE_270deg.view_state);\n                                setLayers(AMVA_STATE_270deg.layers);\n                                setMapStyle(AMVA_STATE_270deg.map_style);\n                                onCapsuleClick();\n                            }\n                        }\n                    }}\n                >\n                    <ReactMapGL\n                        reuseMaps\n                        mapStyle={mapStyle}\n                        preventStyleDiffing={true}\n                        onLoad={() => {\n                            setMapLoaded(true);\n                            setLoading(false);\n\n                            if (currentView === 'amva') {\n                                setViewState(AMVA_STATE_270deg.view_state);\n                            }\n                        }}\n                    />\n                </DeckGL>\n            </div>\n            {(mapLoaded && !inStreaming) && (\n                <>\n                    <Header\n                        setViewState={setViewState}\n                        setLayers={setLayers}\n                        setMapStyle={setMapStyle}\n                        onClick={(type) => setCurrentView(type)}\n                    />\n                    <Footer view={currentView} />\n                </>\n            )}\n        </>\n    );\n}\n","export default __webpack_public_path__ + \"static/media/capsula.94f052b9.webm\";","import React from 'react';\nimport { useSpring, animated } from 'react-spring';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport StreamingTest from '../assets/videos/capsula.webm';\nimport './Streaming.scss';\n\nexport default function Streaming({\n    onBackClick \n}) {\n    const boxAnimation = useSpring({\n        opacity: 1,\n        from: {\n            opacity: 0,\n        },\n    });\n    const [, setViewState] = React.useState();\n    const [, setLayers] = React.useState();\n    const [, setMapStyle] = React.useState();\n\n    return (\n        <>\n            <animated.div className=\"streaming\" style={boxAnimation}>\n                <video src={StreamingTest} autoPlay={true} loop={true} />\n            </animated.div>\n            <Footer view={\"video\"} />\n            <Header\n                setViewState={setViewState}\n                setLayers={setLayers}\n                setMapStyle={setMapStyle}\n                onClick={() => onBackClick()}\n                inStreaming={true}\n            />\n        </>\n    );\n}\n","import React from 'react';\nimport Loader from './components/Loader';\nimport Map from './pages/Map';\nimport Streaming from './pages/Streaming';\n\nexport default function App() {\n    const [isLoading, setLoading] = React.useState(true);\n    const [currentPage, setCurrentPage] = React.useState('map');\n\n    return (\n        <>\n            <Loader isActive={isLoading} />\n            <Map\n                inStreaming={currentPage === 'streaming'}\n                setLoading={setLoading}\n                onCapsuleClick={() => setCurrentPage('streaming')}\n            />\n            {currentPage === 'streaming' && (\n                <Streaming\n                    onBackClick={() => setCurrentPage('map')}\n                />\n            )}\n        </>\n    );\n}\n","const reportWebVitals = onPerfEntry => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n            getCLS(onPerfEntry);\n            getFID(onPerfEntry);\n            getFCP(onPerfEntry);\n            getLCP(onPerfEntry);\n            getTTFB(onPerfEntry);\n        });\n    }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport './index.scss';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}