{"version":3,"sources":["assets/images/area40_color.svg","components/Logo.js","components/Loader.js","components/Header.js","states.js","assets/models/layer_dem_amva.glb","layers/LayerDEM.js","layers/LayerAMVAArcs.js","assets/models/capsule/capsule_render.glb","layers/LayerCapsule.js","assets/models/capsule/plant.glb","layers/LayerPlants.js","assets/images/icon-atlas.png","layers/LayerMarker.js","pages/Map.js","assets/videos/capsule.webm","pages/CapsuleVideo.js","assets/videos/streaming_test.webm","pages/Streaming.js","components/Countdown.js","components/Footer.js","App.js","reportWebVitals.js","index.js"],"names":["Logo","scale","width","height","className","style","src","Area40Color","alt","Loader","isActive","React","useState","isShowing","setShowing","from","opacity","to","onRest","props","Header","onClick","currentPage","boxAnimation","useSpring","top","left","div","INITIAL_STATE","longitude","latitude","zoom","bearing","pitch","transitionDuration","AMVA_STATE_270deg","FlyToInterpolator","view_state","transitionInterpolator","layers","map_style","CAPSULE_STATE","registerLoaders","GLTFLoader","LayerDEM","ScenegraphLayer","id","data","coordinates","scenegraph","terraingltf","getPosition","d","getOrientation","getColor","_animations","speed","sizeScale","_lighting","flat","LayerAMVAArcs","ArcLayer","pickable","getWidth","getSourcePosition","getTargetPosition","getSourceColor","getTargetColor","LayerCapsule","capsule","locations","features","map","e","geometry","LayerPlants","plant","Math","random","LayerMarker","IconLayer","iconAtlas","IconMarker","iconMapping","marker","x","y","mask","getIcon","Map","setCurrentPage","setLoading","states","viewState","setViewState","setLayers","mapStyle","setMapStyle","mapLoaded","setMapLoaded","inMap","useEffect","initialViewState","layerFilter","layer","layer_id","toLowerCase","startsWith","controller","getTooltip","object","reuseMaps","preventStyleDiffing","onLoad","CapsuleVideo","Capsule","autoPlay","loop","Streaming","streamingVideo","setStreamingVideo","canvasElement","setCanvasElement","canvasCtx","setCanvasCtx","videoActive","setVideoActive","oncanplaythrough","play","getContext","setInterval","paused","ended","drawImage","StreamingTest","muted","ref","Countdown","timeCalled","setTimeCalled","years","days","hours","minutes","seconds","time","setTime","marginBottom","marginRight","setTimeout","setTimeCall","difference","Date","calculateTimeLeft","substr","texts","Footer","text","dangerouslySetInnerHTML","__html","App","isLoading","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d61ce652.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/area40_color.b6cc96fc.svg\";","import React from 'react';\nimport Area40Color from '../assets/images/area40_color.svg';\n\nexport default function Logo({ scale }) {\n    let [width, height] = [83.149606299, 56.692913386];\n\n    if (typeof scale === 'number' && scale > 1) {\n        width *= scale;\n        height *= scale;\n    }\n\n    return (\n        <div className=\"logo\" style={{ width, height }}>\n            <img\n                width=\"100%\" height=\"100%\"\n                src={Area40Color}\n                alt=\"40 años del Área Metropolitana del Valle de Aburrá Logo\"\n            />\n        </div>\n    );\n}\n","import React from 'react';\nimport { Spring } from 'react-spring/renderprops';\nimport Logo from './Logo';\nimport './Loader.scss';\n\nexport default function Loader({ isActive }) {\n    const [isShowing, setShowing] = React.useState(true);\n\n    if (!isShowing) {\n        return null;\n    }\n\n    return (\n        <Spring\n            from={{ opacity: isActive ? 0 : 1 }}\n            to={{ opacity: isActive ? 1 : 0 }}\n            onRest={() => setShowing(false)}\n        >\n            {props => (\n                <div style={props} className=\"loader\">\n                    <Logo scale={3} />\n                    <h2>Área Metropolitana del Valle de Aburrá</h2>\n                    <span>¡40 años conectados de punto a punto!</span>\n                </div>\n            )}\n        </Spring>\n    );\n}\n","import React from 'react';\nimport { useSpring, animated } from 'react-spring';\nimport Logo from './Logo';\nimport './Header.scss';\n\nexport default function Header({\n    onClick,\n    currentPage,\n}) {\n    const boxAnimation = useSpring({\n        top: '1rem',\n        left: '1rem',\n        from: {\n            top: '-14rem',\n            left: '-14rem',\n        },\n    });\n\n    return (\n        <animated.div className=\"header\" style={boxAnimation}>\n            <div className=\"top\">\n                <Logo scale={2} />\n            </div>\n            <div className=\"actions\">\n                {(currentPage !== 'map-amva' && currentPage !== 'map-initial') && (\n                    <button onClick={() => onClick('map-amva')}>Área</button>\n                )}\n                {(currentPage === 'map-amva' || currentPage === 'map-initial') && (\n                    <button onClick={() => onClick('map-capsule')}>Cápsula</button>\n                )}\n                {currentPage === 'capsule-video' && <button onClick={() => onClick('streaming')}>En vivo</button>}\n            </div>\n        </animated.div>\n    );\n}\n","import { FlyToInterpolator } from '@deck.gl/core';\n\nexport const INITIAL_STATE = {\n    view_state: {\n        longitude: -75.552464,\n        latitude: 6.326047,\n        zoom: 10.5,\n        bearing: -60,\n        pitch: 60,\n    },\n    layers: ['layer_dem', 'layer_amva_arcs', 'layer_marker'],\n    map_style: 'https://basemaps.cartocdn.com/gl/positron-gl-style/style.json'\n};\n\nconst transitionDuration = 2500;\n\nexport const AMVA_STATE = {\n    view_state: {\n        longitude: -75.552464,\n        latitude: 6.326047,\n        zoom: 10.5,\n        bearing: -60,\n        pitch: 60,\n        transitionDuration,\n        transitionInterpolator: new FlyToInterpolator(),\n    },\n    layers: ['layer_dem', 'layer_amva_arcs', 'layer_marker'],\n    map_style: 'https://basemaps.cartocdn.com/gl/positron-gl-style/style.json',\n};\n\nexport const AMVA_STATE_180deg = {\n    view_state: {\n        longitude: -75.552464,\n        latitude: 6.326047,\n        zoom: 10.5,\n        bearing: 180,\n        pitch: 40,\n        transitionDuration,\n        transitionInterpolator: new FlyToInterpolator(),\n    },\n    layers: ['layer_dem', 'layer_amva_arcs', 'layer_marker'],\n    map_style: 'https://basemaps.cartocdn.com/gl/positron-gl-style/style.json',\n};\n\nexport const AMVA_STATE_270deg = {\n    view_state: {\n        longitude: -75.494464,\n        latitude: 6.33047,\n        zoom: 10.4,\n        bearing: 270,\n        pitch: 40,\n        transitionDuration,\n        transitionInterpolator: new FlyToInterpolator(),\n    },\n    layers: ['layer_dem', 'layer_amva_arcs', 'layer_marker'],\n    map_style: 'https://basemaps.cartocdn.com/gl/positron-gl-style/style.json',\n};\n\n\nexport const CAPSULE_STATE = {\n    view_state: {\n        longitude: -75.5796,\n        latitude: 6.2440,\n        zoom: 20,\n        bearing: 20,\n        pitch: 60,\n        transitionDuration: 6000,\n        transitionInterpolator: new FlyToInterpolator(),\n    },\n    layers: ['layer_capsule', 'layer_amva_arcs','layer_plants'],\n    map_style: 'https://basemaps.cartocdn.com/gl/positron-nolabels-gl-style/style.json',\n};\n","export default __webpack_public_path__ + \"static/media/layer_dem_amva.7d269251.glb\";","import { ScenegraphLayer } from '@deck.gl/mesh-layers';\nimport { registerLoaders } from '@loaders.gl/core';\nimport { GLTFLoader } from '@loaders.gl/gltf';\nimport terraingltf from '../assets/models/layer_dem_amva.glb';\n\nregisterLoaders(GLTFLoader);\n\nconst LayerDEM = new ScenegraphLayer({\n    id: 'layer_dem',\n    data: [\n        { coordinates: [-75.6104, 6.337] }\n    ],\n    scenegraph: terraingltf,\n    getPosition: d => d.coordinates,\n    getOrientation: d => [0, 0, 90],\n    getColor: d => [0, 0, 0, 175],\n    _animations: {\n        '*': { speed: 5 }\n    },\n    sizeScale: 1,\n    _lighting: 'pbr',\n});\n\nexport default LayerDEM;\n","import {ArcLayer} from '@deck.gl/layers';\n\nconst data = [\n    [\n        { from: [-75.65, 6.1376], to: [-75.6074, 6.1353] },\n        { from: [-75.6255, 6.0689], to: [-75.65, 6.1376] }\n    ],\n    [\n        { from: [-75.6074, 6.1353], to: [-75.5647, 6.1456] },\n        { from: [-75.6255, 6.0689], to: [-75.6074, 6.1353] }\n    ],\n    [\n        { from: [-75.65, 6.1376], to: [-75.6153, 6.1772] },\n        { from: [-75.6074, 6.1353], to: [-75.65, 6.1376] }\n    ],\n    [\n        { from: [-75.6153, 6.1772], to: [-75.5647, 6.1456] },\n        { from: [-75.6074, 6.1353], to: [-75.6153, 6.1772] }\n    ],\n    [\n        { from: [-75.579658, 6.244070], to: [-75.5647, 6.1456] },\n        { from: [-75.6153, 6.1772], to: [-75.579658, 6.244070] }\n    ],\n    [\n        { from: [-75.4986, 6.3473], to: [-75.5647, 6.1456] },\n        { from: [-75.579658, 6.244070], to: [-75.4986, 6.3473] }\n    ],\n    [\n        { from: [-75.5673, 6.3504], to: [-75.4986, 6.3473] },\n        { from: [-75.579658, 6.244070], to: [-75.5673, 6.3504] }\n    ],\n    [\n        { from: [-75.65, 6.1376], to: [-75.579658, 6.244070] },\n        { from: [-75.6153, 6.1772], to: [-75.65, 6.1376] }\n    ],\n    [\n        { from: [-75.4441, 6.3837], to: [-75.5647, 6.1456] },\n        { from: [-75.4986, 6.3473], to: [-75.4441, 6.3837] }\n    ],\n    [\n        { from: [-75.3303, 6.4439], to: [-75.5647, 6.1456] },\n        { from: [-75.4441, 6.3837], to: [-75.3303, 6.4439] }\n    ],\n    [\n        { from: [-75.5673, 6.3504], to: [-75.4441, 6.3837] },\n        { from: [-75.4986, 6.3473], to: [-75.5673, 6.3504] }\n    ],\n    [\n        { from: [-75.5673, 6.3504], to: [-75.3303, 6.4439] },\n        { from: [-75.4441, 6.3837], to: [-75.5673, 6.3504] }\n    ],\n    [\n        { from: [-75.65, 6.1376], to: [-75.5673, 6.3504] },\n        { from: [-75.579658, 6.244070], to: [-75.65, 6.1376] }\n    ]\n].flat(1);\n\nconst LayerAMVAArcs = new ArcLayer({\n    id: 'layer_amva_arcs',\n    data,\n    pickable: true,\n    getWidth: 2,\n    getSourcePosition: d => d.from,\n    getTargetPosition: d => d.to,\n    getSourceColor: d => [0, 105, 150],\n    getTargetColor: d => [0, 105, 150],\n});\n\nexport default LayerAMVAArcs;\n","export default __webpack_public_path__ + \"static/media/capsule_render.4e8bed22.glb\";","import { ScenegraphLayer } from '@deck.gl/mesh-layers';\nimport { registerLoaders } from '@loaders.gl/core';\nimport { GLTFLoader } from '@loaders.gl/gltf';\nimport capsule from '../assets/models/capsule/capsule_render.glb';\n\nregisterLoaders(GLTFLoader);\n\nconst LayerCapsule = new ScenegraphLayer({\n    id: 'layer_capsule',\n    data: [\n        {\n            id: 'layer_capsule',\n            coordinates: [-75.579658, 6.244070]\n        }\n    ],\n    pickable: true,\n    scenegraph: capsule,\n    getPosition: d => d.coordinates,\n    getOrientation: d => [0, 107.5, 90],\n    _animations: {\n        '*': { speed: 5 }\n    },\n    sizeScale: 7,\n    _lighting: 'pbr',\n});\n\nexport default LayerCapsule;\n","export default __webpack_public_path__ + \"static/media/plant.34e3fdc2.glb\";","import { ScenegraphLayer } from '@deck.gl/mesh-layers';\nimport { registerLoaders } from '@loaders.gl/core';\nimport { GLTFLoader } from '@loaders.gl/gltf';\nimport plant from '../assets/models/capsule/plant.glb';\nimport locations from '../assets/models/layer_plants.json';\n\nregisterLoaders(GLTFLoader);\n\nconst data =  locations && locations.features.map((e) => ({ coordinates: e.geometry.coordinates, }));\n\nconst LayerPlants = new ScenegraphLayer({\n    id: 'layer_plants',\n    data,\n    scenegraph: plant,\n    getPosition: d => d.coordinates,\n    getOrientation: d => [0, Math.random() * 180, 90],\n    _animations: {\n        '*': { speed: 5 }\n    },\n    sizeScale: 7,\n    _lighting: 'pbr',\n});\n\nexport default LayerPlants;\n","export default __webpack_public_path__ + \"static/media/icon-atlas.a5c1dc54.png\";","import { IconLayer } from '@deck.gl/layers';\nimport IconMarker from '../assets/images/icon-atlas.png';\n\nconst ICON_MAPPING = {\n    marker: {\n        x: 0,\n        y: 0, \n        width: 128,\n        height: 128,\n        mask: false,\n    },\n};\n\nconst data = [\n    {\n        id: 'layer_marker',\n        coordinates: [-75.579658, 6.244070]\n    },\n];\n\nconst LayerMarker = new IconLayer({\n    id: 'layer_marker',\n    data,\n    pickable: true,\n    iconAtlas: IconMarker,\n    iconMapping:ICON_MAPPING,\n    sizeScale: 100,\n    getPosition: d => d.coordinates,\n    getIcon: d => 'marker',\n});\n\nexport default LayerMarker;\n","import React from 'react';\nimport * as states from '../states';\nimport DeckGL from '@deck.gl/react';\nimport ReactMapGL from 'react-map-gl';\n\n// A.M.V.A. Layers\nimport LayerDEM from '../layers/LayerDEM';\nimport LayerAMVAArcs from '../layers/LayerAMVAArcs';\n\n// Capsule Layers\nimport LayerCapsule from '../layers/LayerCapsule';\nimport LayerPlants from '../layers/LayerPlants';\n\n// Marker Layer\nimport LayerMarker from '../layers/LayerMarker';\n\nexport default function Map({\n    currentPage,\n    setCurrentPage,\n    setLoading,\n}) {\n    const [viewState, setViewState] = React.useState(states.INITIAL_STATE.view_state);\n    const [layers, setLayers] = React.useState(states.INITIAL_STATE.layers);\n    const [mapStyle, setMapStyle] = React.useState(states.INITIAL_STATE.map_style);\n    const [mapLoaded, setMapLoaded] = React.useState(false);\n\n    const inMap = currentPage === 'map-initial' || currentPage === 'map-amva' || currentPage === 'map-capsule';\n\n    React.useEffect(() => {\n        if (currentPage === 'map-initial') {\n            if (mapLoaded) {\n                setViewState(states.AMVA_STATE_270deg.view_state);\n            }\n        } else if (currentPage === 'map-amva') {\n            setViewState(states.AMVA_STATE_270deg.view_state);\n            setLayers(states.AMVA_STATE_270deg.layers);\n            setMapStyle(states.AMVA_STATE_270deg.map_style);\n        } else if (currentPage === 'map-capsule') {\n            setViewState(states.CAPSULE_STATE.view_state);\n            setLayers(states.CAPSULE_STATE.layers);\n            setMapStyle(states.CAPSULE_STATE.map_style);\n        }\n    }, [currentPage, mapLoaded]);\n\n    return (\n        <div style={{ opacity: (mapLoaded && inMap) ? 1 : 0 }}>\n            <DeckGL \n                initialViewState={viewState}\n                layers={[\n                    LayerAMVAArcs,\n                    LayerDEM,\n                    LayerCapsule,\n                    LayerMarker,\n                    LayerPlants\n                ]}\n                layerFilter={({ layer }) => {\n                    if (inMap) {\n                        for (const layer_id of layers) {\n                            if (layer.id.toLowerCase().startsWith(layer_id)) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    return false;\n                }}\n                controller={true}\n                getTooltip={({ object }) => {\n                    if (object && inMap) {\n                        if (object.id === 'layer_marker') {\n                            return '¡Haz click aquí para ver la cápsula de cerca!';\n                        } else if (object.id === 'layer_capsule') {\n                            return '¡Haz click aquí para ver lo que ocurre dentro de la cápsula!';\n                        }\n                    }\n                }}\n                onClick={({ layer }) => {\n                    if (layer && inMap) {\n                        if (layer.id === 'layer_marker') {\n                            setCurrentPage('map-capsule');\n                            setViewState(states.CAPSULE_STATE.view_state);\n                            setLayers(states.CAPSULE_STATE.layers);\n                            setMapStyle(states.CAPSULE_STATE.map_style);\n                        } else if (layer.id === 'layer_capsule') {\n                            setCurrentPage('capsule-video');\n                        }\n                    }\n                }}\n            >\n                <ReactMapGL\n                    reuseMaps\n                    mapStyle={mapStyle}\n                    preventStyleDiffing={true}\n                    onLoad={() => {\n                        setMapLoaded(true);\n                        setLoading(false);\n                    }}\n                />\n            </DeckGL>\n        </div>\n    );\n}\n","export default __webpack_public_path__ + \"static/media/capsule.94f052b9.webm\";","import React from 'react';\nimport { useSpring, animated } from 'react-spring';\nimport Capsule from '../assets/videos/capsule.webm';\nimport './CapsuleVideo.scss';\n\nexport default function CapsuleVideo() {\n    const boxAnimation = useSpring({\n        opacity: 1,\n        from: {\n            opacity: 0,\n        },\n    });\n\n    return (\n        <animated.div className=\"capsule-video\" style={boxAnimation}>\n            <video src={Capsule} autoPlay={true} loop={true} />\n        </animated.div>\n    );\n}\n","export default __webpack_public_path__ + \"static/media/streaming_test.cbdc3ed2.webm\";","import React from 'react';\nimport StreamingTest from '../assets/videos/streaming_test.webm';\nimport './Streaming.scss';\n\nexport default function Streaming() {\n    const [streamingVideo, setStreamingVideo] = React.useState(null);\n    const [canvasElement, setCanvasElement] = React.useState(null);\n    const [canvasCtx, setCanvasCtx] = React.useState(null);\n    const [videoActive, setVideoActive] = React.useState(false);\n\n    React.useEffect(() => {\n        if (streamingVideo) {\n            streamingVideo.oncanplaythrough = () => {\n                streamingVideo.play();\n            };\n        }\n    }, [streamingVideo]);\n\n    React.useEffect(() => {\n        if (canvasElement && !canvasCtx) {\n            setCanvasCtx(canvasElement.getContext('2d'));\n        }\n    }, [canvasElement, canvasCtx]);\n\n    React.useEffect(() => {\n        if (streamingVideo && canvasCtx && !videoActive) {\n            setVideoActive(true);\n\n            setInterval(() => {\n                if (!streamingVideo.paused && !streamingVideo.ended) {\n                    canvasCtx.drawImage(\n                        streamingVideo,\n                        0,\n                        0,\n                        canvasElement.width,\n                        canvasElement.height,\n                    );\n                }\n            }, 1000 / 60);\n        }\n    }, [streamingVideo, canvasCtx, canvasElement, videoActive]);\n\n    return (\n        <div className=\"streaming\">\n            <video src={StreamingTest} autoPlay muted loop=\"loop\" ref={setStreamingVideo} />\n            {streamingVideo && <canvas ref={setCanvasElement} />}\n        </div>\n    );\n}\n","import React from 'react';\nimport { useSpring, animated } from 'react-spring';\nimport './Countdown.scss';\n\nfunction calculateTimeLeft() {\n    const difference = new Date(`2030-10-1`) - new Date();\n\n    if (difference > 0) {\n        return {\n            years: ~~(difference / (1000 * 60 * 60 * 24 * 365)),\n            days: ~~((difference / (1000 * 60 * 60 * 24)) % 365),\n            hours: ~~((difference / (1000 * 60 * 60)) % 24),\n            minutes: ~~((difference / 1000 / 60) % 60),\n            seconds: ~~((difference / 1000) % 60),\n        };\n    }\n\n    return { years: 0, days: 0, hours: 0, minutes: 0, seconds: 0 };\n}\n\nexport default function Countdown() {\n    const [timeCalled, setTimeCalled] = React.useState(false);\n    const [time, setTime] = React.useState({ years: 0, days: 0, hours: 0, minutes: 0, seconds: 0 });\n\n    const boxAnimation = useSpring({\n        marginBottom: '0px',\n        marginRight: '0px',\n        from: {\n            marginBottom: '-14rem',\n            marginRight: '-14rem',\n        }\n    });\n\n    if (!timeCalled) {\n        function setTimeCall() {\n            setTimeCalled(true);\n            setTime(calculateTimeLeft());\n            setTimeout(setTimeCall, 1000);\n        }\n\n        setTimeout(setTimeCall, 1000);\n    }\n\n    return (\n        <animated.div className=\"countdown\" style={boxAnimation}>\n            en el 2030 acabaremos con nuestros recursos hídricos si no los gestionamos de manera adecuada:\n            {` ${(`0${time.years}`.substr(-2))}`} año{time.years === 1 ? '' : 's'},\n            {` ${(`00${time.days}`.substr(-3))}`} día{time.days === 1 ? '' : 's'},\n            {` ${(`0${time.hours}`.substr(-2))}`} hora{time.hours === 1 ? '' : 's'},\n            {` ${(`0${time.minutes}`.substr(-2))}`} minuto{time.minutes === 1 ? '' : 's'} y\n            {` ${(`0${time.seconds}`.substr(-2))}`} segundo{time.seconds === 1 ? '' : 's'}\n        </animated.div>\n    );\n}\n","import React from 'react';\nimport Countdown from './Countdown';\nimport './Footer.scss';\n\nconst texts = {\n    'map-amva': 'Con una línea que nos trazamos, acercamos territorios, culturas, diversidades, puntos <br/> de vista, sueños y personas. Cada punto es un foco de gestión que se une a través <br/> de la tecnología, la movilidad, el desarrollo y la conservación ambiental para articular un Futuro sostenible que no se detiene y crea calidad de vida.',\n    'map-capsule': 'Las urnas del tiempo clásicas querían mostrar a generaciones futuras cómo era la vida años atrás; la \"Cápsula Viva Observatorio de lo Invisible\" viene del pasado y el futuro para decirnos que la llave del acertijo la tenemos hoy en nuestras manos.',\n    'capsule-video': `“Tendemos a ignorar las cosas que son invisibles, ¿estás de acuerdo? \n    ¿Invisibles? \n    <br/> El clima es invisible y, sin embargo, nos afecta”, \n    “Pero la mejor manera de entender <br/> el silencio consiste en aceptar que no  \n    existe, sino que es una medida a partir de la cual valoramos el sonido.” \n    Opus zero, Daniel G`\n};\n\nexport default function Footer({ currentPage }) {\n    const text = texts[currentPage === 'map-initial' ? 'map-amva' : currentPage];\n\n    return (\n        <div className=\"footer\">\n            {typeof text === 'string' && <div className=\"text\" dangerouslySetInnerHTML={{ __html: text }}/>}\n            <Countdown />\n        </div>\n    );\n}\n","import React from 'react';\nimport Loader from './components/Loader';\nimport Header from './components/Header';\nimport Map from './pages/Map';\nimport CapsuleVideo from './pages/CapsuleVideo';\nimport Streaming from './pages/Streaming';\nimport Footer from './components/Footer';\n\nexport default function App() {\n    const [isLoading, setLoading] = React.useState(true);\n    const [currentPage, setCurrentPage] = React.useState('map-initial');\n\n    return (\n        <>\n            <Loader isActive={isLoading} />\n            {!isLoading && <Header onClick={setCurrentPage} currentPage={currentPage} />}\n            <Map\n                currentPage={currentPage}\n                setCurrentPage={setCurrentPage}\n                setLoading={setLoading}\n            />\n            {currentPage === 'capsule-video' && <CapsuleVideo />}\n            {currentPage === 'streaming' && <Streaming />}\n            {!isLoading && <Footer currentPage={currentPage} />}\n        </>\n    );\n}\n","const reportWebVitals = onPerfEntry => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n            getCLS(onPerfEntry);\n            getFID(onPerfEntry);\n            getFCP(onPerfEntry);\n            getLCP(onPerfEntry);\n            getTTFB(onPerfEntry);\n        });\n    }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport './index.scss';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}